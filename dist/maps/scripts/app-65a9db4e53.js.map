{"version":3,"sources":["scripts/app.js"],"names":["angular","module","controller","$log","_","$location","onChangeSearchData","query","property","vm","searchData","toLowerCase","search","info","Date","toISOString","this","$inject","component","templateUrl","controllerAs","bindings","list","doSearch","doOrderBy","reverse","sortBy","result","orderBy","navbarTopDirective","$window","link","$scope","$element","pageUrl","location","href","substr","lastIndexOf","$","element","find","click","addClass","parent","children","not","removeClass","each","menuItem","attr","indexOf","$translate","$state","AVALIABLE_LANGUAGES","LANGUAGES_TRANSLATION_KEYS","switchLanguage","language","use","reload","avaliableLanguages","mapLanguageTranslationByKey","directive","getMoreInformation","isFunction","onScrolling","go","imdbID","slug","Title","LayoutAbstractController","HomeService","WebAPI","async","FALLBACK_POSTER_IMG","parseListResult","data","done","Response","isArray","Search","Tasks","map","value","push","next","searchByImdbId","err","response","Poster","parallel","imdbId","then","error","params","advancedFilter","service","HomeController","setQueryParams","page","scrolling","onScrollPage","extend","clone","searchList","concat","length","title","Year","year","Genre","genre","FavoriteService","ngDexie","validateAndFilter","pick","split","create","dataToSave","add","DB_TABLE_NAME","remove","Error","select","getByIndex","index","getByImdbId","FavoriteController","selectList","DetailService","getFullInfo","getDetailsByImdbId","searchVideos","getVideosByImdbId","DetailController","$stateParams","verifyAlreadyInFavoriteList","actions","createInFavoriteList","removeInFavoriteList","fieldsToShow","mapFieldsToTranslateKey","Plot","Actors","Director","imdbRating","Awards","lodashService","asyncService","Run","run","Configuration","$stateProvider","$urlRouterProvider","state","abstract","url","views","layoutContent","otherwise","config","OfflineWebAPI","createMovie","selectMovie","constant","name","debug","version","stores","movies","favorites","ngDexieProvider","DATABASE_OPTIONS","injector","get","options","setOptions","setConfiguration","database","on","navigator","en","pt","cfpLoadingBarProvider","$translateProvider","DEFAULT_LANGUAGE","includeSpinner","langMap","en_*","en-*","pt_*","pt-*","es_*","es-*","useLocalStorage","useSanitizeValueStrategy","registerAvailableLanguageKeys","preferredLanguage","determinePreferredLanguage","fallbackLanguage","OMDB_API_URL","MOVIEDB_API_URL","MOVIEDB_API_KEY","$http","buildMovieDBConfig","uriParams","queryParams","api_key","uri","join","isString","requestOMDBAPI","plot","method","i","mapTo","type","key","translations","DETAIL_LABEL_PLOT","DETAIL_LABEL_ACTORS","DETAIL_LABEL_YEAR","DETAIL_LABEL_GENRE","DETAIL_LABEL_DIRECTOR","DETAIL_LABEL_RATING","DETAIL_LABEL_AWARDS","DETAIL_ALERT_ALREADY_ADDED_IN_FAVORITES_BODY","DETAIL_ALERT_ALREADY_ADDED_IN_FAVORITES_BUTTON","LABEL_ADD_FAVORITES","LABEL_READ_MORE","NAVBAR_TITLE_HOME","NAVBAR_TITLE_FAVORITES","NAVBAR_LANGUAGE_TITLE","NAVBAR_LANGUAGE_EN","NAVBAR_LANGUAGE_PT","ORDER_BY_LABEL","ORDER_BY_YEAR","ORDER_BY_RATING","ORDER_BY_GENRE","FORM_INPUT_SEARCH_NAME_PLACEHOLDER","FORM_INPUT_SEARCH_YEAR_PLACEHOLDER","FORM_INPUT_SEARCH_GENRE_PLACEHOLDER","FORM_INPUT_SUBMIT","$templateCache","put"],"mappings":"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","file":"scripts/app-65a9db4e53.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('OMDBApp', [\n      'ui.router',\n      'ngCookies',\n      'ui.bootstrap',\n      'pascalprecht.translate',\n      'translations',\n      'angular-loading-bar',\n      'ngAnimate',\n      'ngdexie',\n      'ngdexie.ui',\n      'infinite-scroll'\n    ]);\n\n})();\n\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .component('searchForm', {\n      templateUrl: 'app/components/search-form/search-form.html',\n      controller: controller,\n      controllerAs: 'search_form_vm',\n      bindings: {\n        list: '=',\n        searchData: '=',\n        doSearch: '='\n      }\n  })\n\n  /** @ngInject */\n  function controller ($log, _, $location) {\n    $log.info('SearchForm Component initialized on date: %s', new Date().toISOString());\n    var vm = this;\n    vm.onChangeSearchData = onChangeSearchData;\n\n    function onChangeSearchData () {\n      var query = {}\n      for (var property in vm.searchData) {\n        if (vm.searchData[property]) query[property.toLowerCase()] = vm.searchData[property];\n      }\n      $location.search(query)\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .component('orderList', {\n      templateUrl: 'app/components/order-list/order-list.html',\n      controller: controller,\n      controllerAs: 'order_list_vm',\n      bindings: {\n        list: '='\n      }\n  })\n\n  /** @ngInject */\n  function controller ($log, _) {\n    $log.info('OrderList Component initialized on date: %s', new Date().toISOString());\n    var vm = this;\n    vm.doOrderBy = doOrderBy;\n\n    function doOrderBy () {\n      vm.list = _.reverse(_.sortBy(vm.list, function(result) {\n        return result[vm.orderBy];\n      }))\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .directive('navbarTop', navbarTopDirective);\n\n  /** @ngInject */\n  function navbarTopDirective ($window) {\n    return {\n      templateUrl: 'app/components/navbar-top/navbar-top.html',\n      link: link($window),\n      controller: controller,\n      controllerAs: 'navbar_top_vm'\n    };\n  }\n\n  /** @ngInject */\n  function link ($window) {\n    return function ($scope, $element) {\n      var pageUrl = $window.location.href.substr($window.location.href.lastIndexOf('/')+1)\n      var $ = angular.element($element)\n      $.find('.navbar-nav li').click(function(){\n        angular.element(this).addClass('active');\n        angular.element(this).parent().children('li').not(this).removeClass('active');\n      });\n      $.find('.navbar-nav li a').each(function () {\n        var menuItem = angular.element(this);\n        if (menuItem.attr('href').indexOf(pageUrl) > 0) {\n          menuItem.parent().parent().children('li').removeClass('active');\n          menuItem.parent().addClass('active');\n        }\n      })\n    }\n  }\n\n  /** @ngInject */\n  function controller ($log, $translate, $state, AVALIABLE_LANGUAGES, LANGUAGES_TRANSLATION_KEYS) {\n    $log.info('NavBarController initialized on date: %s', new Date().toISOString());\n    var vm = this;\n    vm.avaliableLanguages = AVALIABLE_LANGUAGES;\n    vm.mapLanguageTranslationByKey = LANGUAGES_TRANSLATION_KEYS;\n    vm.switchLanguage = switchLanguage;\n\n    function switchLanguage (language) {\n      $translate.use(language);\n      return $state.reload();\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .component('listView', {\n      templateUrl: 'app/components/list-view/list-view.html',\n      controller: controller,\n      controllerAs: 'list_view_vm',\n      bindings: {\n        list: '=',\n        onScrolling: '=',\n        searchData: '='\n      }\n  })\n\n  /** @ngInject */\n  function controller ($log, $state) {\n    $log.info('ListView Component initialized on date: %s', new Date().toISOString());\n    var vm = this;\n    vm.getMoreInformation = getMoreInformation;\n\n    function getMoreInformation (result) {\n      if (angular.isFunction(vm.onScrolling)) vm.onScrolling(true);\n      return $state.go('layout.detail', {imdbID: result.imdbID, slug: result.Title});\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .controller('LayoutAbstractController', LayoutAbstractController)\n\n\n  /** @ngInject */\n  function LayoutAbstractController ($log) {\n    $log.info('LayoutAbstractController initialized on date: %s', new Date().toISOString());\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .service('HomeService', HomeService)\n\n\n  /** @ngInject */\n  function HomeService ($log, WebAPI, async, FALLBACK_POSTER_IMG) {\n    $log.info('HomeService initialized on date: %s', new Date().toISOString());\n\n    function parseListResult (data, done) {\n      if (!data.Response || !angular.isArray(data.Search)) return done(null, []);\n      var result = [];\n      var Tasks = [];\n\n      data.Search.map(function (value) {\n        return Tasks.push(function (next) {\n          return searchByImdbId(value.imdbID, function onSearchByIdmbId (err, response) {\n            if (err) return next(err);\n            if (response.Poster === 'N/A') response.Poster = FALLBACK_POSTER_IMG;\n            if (response) result.push(response);\n            return next(null);\n          });\n        });\n      });\n\n      return async.parallel(Tasks, function onFinishTasks(err) {\n        if (err) return done(err);\n        return done(null, result);\n      });\n    }\n\n    function searchByImdbId (imdbId, done) {\n      return WebAPI.searchByImdbId(imdbId)\n        .then(function (response) {\n          $log.info('Response by imdbId [%s]', imdbId, response);\n          return done(null, response.data);\n        }).catch(function (err) {\n          $log.error(err, 'Error when get result by imdbId');\n          return done(err, null)\n        })\n    }\n    function doSearch (params, done) {\n      return WebAPI.advancedFilter(params)\n        .then(function (response) {\n          $log.info('Response list of search', response);\n          return parseListResult(response.data, function onParsed (err, list) {\n            return done(err, list);\n          });\n        }).catch(function (err) {\n          $log.error(err, 'Error when get list of search');\n          return done(err, null);\n        });\n    }\n\n    return {\n      doSearch: doSearch,\n      searchByImdbId: searchByImdbId\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .controller('HomeController', HomeController)\n\n\n  /** @ngInject */\n  function HomeController ($log, HomeService, $location, _) {\n    $log.info('HomeController initialized on date: %s', new Date().toISOString());\n    var vm = this;\n    vm.searchList = [];\n    vm.searchData = {\n      Title: $location.search().title || '',\n      Year: $location.search().year || '',\n      Genre: $location.search().genre || ''\n    };\n    vm.page = $location.search().page || 1;\n    vm.scrolling = false;\n    vm.doSearch = doSearch;\n    vm.onScrollPage = onScrollPage;\n    vm.onScrolling = onScrolling;\n\n    (function construct () {\n      if (vm.searchData.Title) {\n        doSearch();\n      }\n    })();\n\n    function setQueryParams () {\n      var query = { page: vm.page }\n      for (var property in vm.searchData) {\n        if (vm.searchData[property]) query[property.toLowerCase()] = vm.searchData[property];\n      }\n      $location.search(query);\n    }\n\n    function onScrolling (value) {\n      vm.scrolling = value;\n    }\n\n    function onScrollPage () {\n      vm.page++;\n      vm.scrolling = true;\n      return doSearch();\n    }\n\n    function doSearch () {\n      setQueryParams();\n      var data = _.extend(_.clone(vm.searchData), { page: vm.page });\n      HomeService.doSearch(data, function (err, list) {\n        if (err) return;\n        vm.searchList = vm.searchList.concat(list);\n        vm.scrolling = !list.length;\n        if (!list.length) {\n          vm.page--;\n          setQueryParams();\n        }\n      })\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .service('FavoriteService', FavoriteService)\n\n\n\n  /** @ngInject */\n  function FavoriteService ($log, ngDexie, _) {\n    $log.info('FavoriteService initialized on date: %s', new Date().toISOString());\n    var DB_TABLE_NAME = 'favorites';\n\n    function validateAndFilter (result) {\n      var data = _.pick(result, ['imdbID', 'Title', 'Poster', 'Year', 'imdbRating', 'Genre']);\n      data.Genre = data.Genre.split(',')\n      return data;\n    }\n\n    function create (result, done) {\n      var dataToSave = validateAndFilter(result);\n      return ngDexie.add(DB_TABLE_NAME, dataToSave)\n        .then(function() {\n          $log.info('Save favorite in IndexDB with success', dataToSave);\n          return done(null, dataToSave);\n        }).catch(function (err) {\n          $log.error('Error when save favorite in IndexDB', err);\n          return done(err, null);\n        })\n    }\n\n    function remove (result, done) {\n      return ngDexie.remove(DB_TABLE_NAME, result.imdbID)\n        .then(function () {\n          $log.info('imdbID [%s] removed with success', result.imdbID);\n          return done(null, result);\n        }).catch(function (err) {\n          if (err) $log.error('imdbID [%s] error when remove', result.imdbID, err);\n          return done(err || new Error('Register cannot be removed'), null);\n        });\n    }\n\n    function select (done) {\n      return ngDexie.list(DB_TABLE_NAME)\n        .then(function (result) {\n          $log.info('Result list of favorites: ', result)\n          return done(null, result);\n        }).catch(function (err) {\n          $log.error('Error when return list of favorites: ', err);\n          return done(err || new Error('Cannot get the list of favorites'), null)\n        })\n    }\n\n    function getByIndex (index, value) {\n      return ngDexie.getByIndex(DB_TABLE_NAME, index, value);\n    }\n\n    function getByImdbId (imdbID, done) {\n      return getByIndex('imdbID', imdbID)\n        .then(function (response) {\n          $log.info('Successfully to get by imdbID', response);\n          return done(null, response);\n        }).catch(function (err) {\n          if (err) $log.error('Error when get by imdbID', err);\n          return done(err || new Error('Register doest exist'), null);\n        })\n    }\n\n    return {\n      create: create,\n      remove: remove,\n      select: select,\n      getByImdbId: getByImdbId\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .controller('FavoriteController', FavoriteController)\n\n\n  /** @ngInject */\n  function FavoriteController ($log, FavoriteService, $location) {\n    $log.info('FavoriteController initialized on date: %s', new Date().toISOString());\n    var vm = this;\n    vm.list = [];\n    vm.searchData = {\n      Title: $location.search().title || '',\n      Year: $location.search().year || '',\n      Genre: $location.search().genre || ''\n    };\n\n    (function construct () {\n      selectList();\n    })();\n\n    function selectList () {\n      FavoriteService.select(function (err, list) {\n        if (err) return;\n        vm.list = list;\n      })\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .service('DetailService', DetailService)\n\n\n\n  /** @ngInject */\n  function DetailService ($log, WebAPI) {\n    $log.info('DetailService initialized on date: %s', new Date().toISOString());\n\n    function getFullInfo (imdbId, done) {\n      return WebAPI.getDetailsByImdbId(imdbId)\n        .then(function (response) {\n          $log.info('Response full info by imdbId [%s]', imdbId, response);\n          return done(null, response.data);\n        }).catch(function (err) {\n          $log.error(err, 'Error when get full info by imdbId');\n          return done(err, null)\n        });\n    }\n\n    function searchVideos (imdbId, done) {\n      return WebAPI.getVideosByImdbId(imdbId)\n        .then(function (response) {\n          $log.info('Response videos by imdbId [%s]', imdbId, response);\n          return done(null, response.data);\n        }).catch(function (err) {\n          $log.error(err, 'Error when get videos by imdbId');\n          return done(err, null);\n        });\n    }\n\n    return {\n      getFullInfo: getFullInfo,\n      searchVideos: searchVideos\n    }\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .controller('DetailController', DetailController)\n\n\n  /** @ngInject */\n  function DetailController ($log, $location, $stateParams, DetailService, FavoriteService) {\n    $log.info('DetailController initialized on date: %s', new Date().toISOString());\n    var vm = this;\n    vm.createInFavoriteList = createInFavoriteList;\n    vm.removeInFavoriteList = removeInFavoriteList;\n    vm.imdbId = $stateParams.imdbID;\n    vm.result = null;\n    vm.fieldsToShow = [\n      'Plot',\n      'Actors',\n      'Year',\n      'Genre',\n      'Director',\n      'imdbRating',\n      'Awards'\n    ];\n    vm.mapFieldsToTranslateKey = {\n      'Plot': 'DETAIL_LABEL_PLOT',\n      'Actors': 'DETAIL_LABEL_ACTORS',\n      'Year': 'DETAIL_LABEL_YEAR',\n      'Genre': 'DETAIL_LABEL_GENRE',\n      'Director': 'DETAIL_LABEL_DIRECTOR',\n      'imdbRating': 'DETAIL_LABEL_RATING',\n      'Awards': 'DETAIL_LABEL_AWARDS'\n    };\n    vm.actions = {\n      add: false\n    };\n    \n    (function construct () {\n      $location.search({});\n      getFullInfo();\n      verifyAlreadyInFavoriteList();\n    })();\n\n    function getFullInfo () {\n      return DetailService.getFullInfo(vm.imdbId, function (err, result) {\n        if (err) return;\n        vm.result = result;\n      })\n    }\n\n    function verifyAlreadyInFavoriteList () {\n      FavoriteService.getByImdbId(vm.imdbId, function (err, response) {\n        if (err || !response) return vm.actions.add = true;\n      })\n    }\n\n    function createInFavoriteList (result) {\n      return FavoriteService.create(result, function (err, response) {\n        if (err) return;\n        return vm.actions.add = (response) ? false : true;\n      })\n    }\n\n    function removeInFavoriteList (result) {\n      return FavoriteService.remove(result, function (err, response) {\n        if (err) return;\n        return vm.actions.add = (response) ? true : false;\n      })\n    }\n\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .service('_', lodashService)\n    .service('async', asyncService);\n\n  /** @ngInject */\n  function lodashService ($window) {\n    return $window['_'];\n  }\n  \n  /** @ngInject */\n  function asyncService ($window) {\n    return $window['async'];\n  }\n\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .run(Run)\n\n  /** @ngInject */\n  function Run ($log) {\n    $log.info('App running on date: %s', new Date().toISOString());\n  }\n\n})();\n\n\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .config(Configuration)\n\n  /** @ngInject */\n  function Configuration ($stateProvider, $urlRouterProvider) {\n\n    $stateProvider\n      .state('layout', {\n        abstract: true,\n        templateUrl: 'app/components/layout/layout.html',\n        controller: 'LayoutAbstractController',\n        controllerAs: 'layout_vm'\n      })\n      .state('layout.home', {\n        url: '/',\n        views: {\n          layoutContent: {\n            templateUrl: 'app/components/home/home.html',\n            controller: 'HomeController',\n            controllerAs: 'home_vm'\n          }\n        }\n      })\n      .state('layout.detail', {\n        url: '/:imdbID/:slug',\n        views: {\n          layoutContent: {\n            templateUrl: 'app/components/details/detail.html',\n            controller: 'DetailController',\n            controllerAs: 'detail_vm'\n          }\n        }\n      })\n      .state('layout.favorites', {\n        url: '/favorites',\n        views: {\n          layoutContent: {\n            templateUrl: 'app/components/favorites/favorite.html',\n            controller: 'FavoriteController',\n            controllerAs: 'favorite_vm'\n          }\n        }\n      })\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .service('OfflineWebAPI', OfflineWebAPI)\n\n  /** @ngInject */\n  function OfflineWebAPI ($log) {\n\n    (function construct () {\n      $log.info('OfflineWebAPI running on date: %s', new Date().toISOString())\n    })();\n\n    function createMovie (imdbID, data) {\n\n    }\n\n    function selectMovie (imdbID) {\n\n    }\n\n    return {\n      createMovie: createMovie,\n      selectMovie: selectMovie\n    };\n  }\n\n})();\n\n\nangular.module(\"OMDBApp\")\n.constant(\"OMDB_API_URL\", \"https://omdbapi.com/\")\n.constant(\"MOVIEDB_API_URL\", \"https://api.themoviedb.org/3/movie/\")\n.constant(\"MOVIEDB_API_KEY\", \"c5faf8570229b9ae76311638b0557c56\")\n.constant(\"DATABASE_OPTIONS\", {\"name\":\"omdb_database\",\"debug\":false,\"version\":1,\"stores\":{\"movies\":\"++imdbID, data\",\"favorites\":\"++imdbID, Title, Poster, Year, imdbRating, Genre\"}});\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .config(Configuration)\n\n  /** @ngInject */\n  function Configuration (ngDexieProvider, DATABASE_OPTIONS) {\n    var $log = angular.injector(['ng']).get('$log');\n    $log.info('Database config init', DATABASE_OPTIONS);\n    var options = { name: DATABASE_OPTIONS.name, debug: DATABASE_OPTIONS.debug }\n    ngDexieProvider.setOptions(options).setConfiguration(function(database) {\n      database\n        .version(DATABASE_OPTIONS.version)\n        .stores(DATABASE_OPTIONS.stores);\n      database\n        .on('error', function(err) {\n          return $log.error('Database connection error: ', err);\n        })\n        .on('ready', function() {\n          return $log.info('Database connection established');\n        })\n    })\n  }\n})();\n\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .constant('DEFAULT_LANGUAGE', navigator.language || 'en-US')\n    .constant('FALLBACK_POSTER_IMG', 'assets/images/default_poster.jpg')\n    .constant('AVALIABLE_LANGUAGES', [\n      'en',\n      'pt'\n    ])\n    .constant('LANGUAGES_TRANSLATION_KEYS', {\n      'en': 'NAVBAR_LANGUAGE_EN',\n      'pt': 'NAVBAR_LANGUAGE_PT'\n    })\n})();\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .config(Configuration)\n\n  /** @ngInject */\n  function Configuration (cfpLoadingBarProvider, $translateProvider, DEFAULT_LANGUAGE) {\n    cfpLoadingBarProvider.includeSpinner = false;\n\n    var langMap = {\n      'en_*': 'en',\n      'en-*': 'en',\n      'pt_*': 'pt',\n      'pt-*': 'pt',\n      'es_*': 'es',\n      'es-*': 'es'\n    };\n\n    $translateProvider\n      .useLocalStorage()\n      .useSanitizeValueStrategy('escape')\n      .registerAvailableLanguageKeys(['en', 'pt', 'es'], langMap)\n      .preferredLanguage(DEFAULT_LANGUAGE)\n      .determinePreferredLanguage()\n      .fallbackLanguage(DEFAULT_LANGUAGE);\n  }\n})();\n\n\n(function construct() {\n  'use strict';\n\n  angular.module('OMDBApp')\n    .service('WebAPI', WebAPI)\n\n  /** @ngInject */\n  function WebAPI ($log, OMDB_API_URL, MOVIEDB_API_URL, MOVIEDB_API_KEY, $http, _) {\n\n    (function construct() {\n      $log.info('WebAPI running on date: %s', new Date().toISOString())\n    })();\n\n    function buildMovieDBConfig (uriParams, queryParams) {\n      var query = _.extend(queryParams || {}, {api_key: MOVIEDB_API_KEY})\n      var uri = angular.isArray(uriParams)\n              ? uriParams.join('/')\n              : angular.isString(uriParams)\n              ? uriParams\n              : ''\n      return { url: MOVIEDB_API_URL.concat(uri), query: query };\n    }\n\n    function requestOMDBAPI (params) {\n      params = _.extend(params, { plot: 'full' })\n      return $http({\n        method: 'GET',\n        url: OMDB_API_URL,\n        params: params\n      });\n    }\n\n    function searchByImdbId (imdbId) {\n      var query = { i: imdbId };\n      return requestOMDBAPI(query);\n    }\n\n    function advancedFilter (params) {\n      var mapTo = { Title: 's', Year: 'y', type: 'type', page: 'page'};\n      var query = {};\n      for (var key in params) {\n        if (mapTo[key] && params[key]) query[mapTo[key]] = params[key];\n      }\n      return requestOMDBAPI(query);\n    }\n\n    function getDetailsByImdbId (imdbId) {\n      var query = { i: imdbId };\n      return requestOMDBAPI(query);\n    }\n\n    function getVideosByImdbId (imdbId) {\n      var config = buildMovieDBConfig([imdbId, 'videos']);\n      return $http({\n        method: 'GET',\n        url: config.url,\n        params: config.query\n      });\n    }\n\n    return {\n      searchByImdbId: searchByImdbId,\n      advancedFilter: advancedFilter,\n      getDetailsByImdbId: getDetailsByImdbId,\n      getVideosByImdbId: getVideosByImdbId\n    };\n  }\n\n})();\n\n\n(function construct() {\n    \"use strict\";\n    angular.module(\"translations\", []).config(Configuration);\n\n    /** @ngInject */\n    function Configuration($translateProvider) {\n      $translateProvider.translations(\"en\", {\n  \"DETAIL_LABEL_PLOT\": \"Plot\",\n  \"DETAIL_LABEL_ACTORS\": \"Actors\",\n  \"DETAIL_LABEL_YEAR\": \"Year\",\n  \"DETAIL_LABEL_GENRE\": \"Genre\",\n  \"DETAIL_LABEL_DIRECTOR\": \"Director\",\n  \"DETAIL_LABEL_RATING\": \"Rating\",\n  \"DETAIL_LABEL_AWARDS\": \"Awards\",\n  \"DETAIL_ALERT_ALREADY_ADDED_IN_FAVORITES_BODY\": \"Already added to favorites, you want to\",\n  \"DETAIL_ALERT_ALREADY_ADDED_IN_FAVORITES_BUTTON\": \"remove?\"\n});\n\n$translateProvider.translations(\"pt\", {\n  \"DETAIL_LABEL_PLOT\": \"Enredo\",\n  \"DETAIL_LABEL_ACTORS\": \"Atores\",\n  \"DETAIL_LABEL_YEAR\": \"Ano\",\n  \"DETAIL_LABEL_GENRE\": \"Gênero\",\n  \"DETAIL_LABEL_DIRECTOR\": \"Diretor\",\n  \"DETAIL_LABEL_RATING\": \"Avaliação\",\n  \"DETAIL_LABEL_AWARDS\": \"Prêmios\",\n  \"DETAIL_ALERT_ALREADY_ADDED_IN_FAVORITES_BODY\": \"Já adicionado aos seus favoritos, você deseja\",\n  \"DETAIL_ALERT_ALREADY_ADDED_IN_FAVORITES_BUTTON\": \"remover?\"\n});\n\n$translateProvider.translations(\"en\", {\n  \"LABEL_ADD_FAVORITES\": \"+ Favorite\"\n});\n\n$translateProvider.translations(\"pt\", {\n  \"LABEL_ADD_FAVORITES\": \"+ Favoritos\"\n});\n\n$translateProvider.translations(\"en\", {});\n\n$translateProvider.translations(\"pt\", {});\n\n$translateProvider.translations(\"en\", {});\n\n$translateProvider.translations(\"pt\", {});\n\n$translateProvider.translations(\"en\", {\n  \"LABEL_READ_MORE\": \"Read More\"\n});\n\n$translateProvider.translations(\"pt\", {\n  \"LABEL_READ_MORE\": \"Leia mais\"\n});\n\n$translateProvider.translations(\"en\", {\n  \"NAVBAR_TITLE_HOME\": \"Home\",\n  \"NAVBAR_TITLE_FAVORITES\": \"Favorites\",\n  \"NAVBAR_LANGUAGE_TITLE\": \"Language\",\n  \"NAVBAR_LANGUAGE_EN\": \"English\",\n  \"NAVBAR_LANGUAGE_PT\": \"Portuguese\"\n});\n\n$translateProvider.translations(\"pt\", {\n  \"NAVBAR_TITLE_HOME\": \"Inicio\",\n  \"NAVBAR_TITLE_FAVORITES\": \"Favoritos\",\n  \"NAVBAR_LANGUAGE_TITLE\": \"Linguagem\",\n  \"NAVBAR_LANGUAGE_EN\": \"Inglês\",\n  \"NAVBAR_LANGUAGE_PT\": \"Português\"\n});\n\n$translateProvider.translations(\"en\", {\n  \"ORDER_BY_LABEL\": \"Order by\",\n  \"ORDER_BY_YEAR\": \"Year\",\n  \"ORDER_BY_RATING\": \"Rating\",\n  \"ORDER_BY_GENRE\": \"Genre\"\n});\n\n$translateProvider.translations(\"pt\", {\n  \"ORDER_BY_LABEL\": \"Ordenar por\",\n  \"ORDER_BY_YEAR\": \"Ano\",\n  \"ORDER_BY_RATING\": \"Avaliação\",\n  \"ORDER_BY_GENRE\": \"Gênero\"\n});\n\n$translateProvider.translations(\"en\", {\n  \"FORM_INPUT_SEARCH_NAME_PLACEHOLDER\": \"Movie name\",\n  \"FORM_INPUT_SEARCH_YEAR_PLACEHOLDER\": \"Movie year\",\n  \"FORM_INPUT_SEARCH_GENRE_PLACEHOLDER\": \"Movie Genre\",\n  \"FORM_INPUT_SUBMIT\": \"Search\"\n});\n\n$translateProvider.translations(\"pt\", {\n  \"FORM_INPUT_SEARCH_NAME_PLACEHOLDER\": \"Nome do filme\",\n  \"FORM_INPUT_SEARCH_YEAR_PLACEHOLDER\": \"Ano do filme\",\n  \"FORM_INPUT_SEARCH_GENRE_PLACEHOLDER\": \"Gênero do filme\",\n  \"FORM_INPUT_SUBMIT\": \"Procurar\"\n});\n\n    }\n  })()\nangular.module(\"artyouWebapp\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/components/search-form/search-form.html\",\"<div class=search-form><form class=form-inline name=searchForm><div class=form-group><input type=text class=form-control placeholder=\\\"{{:: \\'FORM_INPUT_SEARCH_NAME_PLACEHOLDER\\' | translate}}\\\" data-ng-model=search_form_vm.searchData.Title data-ng-change=search_form_vm.onChangeSearchData() required></div><div class=form-group><input type=text class=form-control placeholder=\\\"{{:: \\'FORM_INPUT_SEARCH_YEAR_PLACEHOLDER\\' | translate}}\\\" data-ng-model=search_form_vm.searchData.Year data-ng-change=search_form_vm.onChangeSearchData()></div><div class=form-group><input type=text class=form-control , placeholder=\\\"{{:: \\'FORM_INPUT_SEARCH_GENRE_PLACEHOLDER\\' | translate}}\\\" data-ng-model=search_form_vm.searchData.Genre data-ng-change=search_form_vm.onChangeSearchData()></div><div class=form-group><order-list data-list=search_form_vm.list></order-list></div><button type=submit class=\\\"btn btn-default\\\" data-ng-bind=\\\":: \\'FORM_INPUT_SUBMIT\\' | translate\\\" data-ng-click=search_form_vm.doSearch() data-ng-disabled=searchForm.$invalid>Search</button></form></div>\");\n$templateCache.put(\"app/components/details/detail.html\",\"<div class=container><div class=\\\"detail-container well\\\" data-ng-if=detail_vm.result><div class=detail-header><h1 class=text-center>{{detail_vm.result.Title}} - {{detail_vm.result.Year}}</h1></div><div class=detail-body><div class=\\\"detail-poster text-center\\\"><img data-ng-if=detail_vm.result.Poster data-ng-src={{detail_vm.result.Poster}} data-err-src=assets/images/default_poster.jpg alt={{detail_vm.result.Title}}></div><hr><div class=detail-item data-ng-repeat=\\\"field in detail_vm.fieldsToShow\\\" data-ng-if=detail_vm.result[field]><strong>{{:: detail_vm.mapFieldsToTranslateKey[field] | translate}}: </strong>{{detail_vm.result[field]}}</div><div class=\\\"detail-actions text-center\\\" data-ng-if=detail_vm.actions.add><button class=\\\"btn btn-primary\\\" data-ng-bind=\\\":: \\'LABEL_ADD_FAVORITES\\' | translate\\\" data-ng-click=detail_vm.createInFavoriteList(detail_vm.result)>+ Favorites</button></div><div class=\\\"detail-actions text-center\\\" data-ng-if=!detail_vm.actions.add><div class=\\\"alert alert-info\\\">{{:: \\'DETAIL_ALERT_ALREADY_ADDED_IN_FAVORITES_BODY\\' | translate}} <a href class=text-danger data-ng-click=detail_vm.removeInFavoriteList(detail_vm.result)>{{:: \\'DETAIL_ALERT_ALREADY_ADDED_IN_FAVORITES_BUTTON\\' | translate}}</a></div></div></div></div></div>\");\n$templateCache.put(\"app/components/favorites/favorite.html\",\"<search-form data-search-data=favorite_vm.searchData data-do-search=favorite_vm.doSearch data-list=favorite_vm.list></search-form><list-view data-list=favorite_vm.list data-search-data=favorite_vm.searchData></list-view>\");\n$templateCache.put(\"app/components/home/home.html\",\"<section class=\\\"container search-page\\\"><search-form data-search-data=home_vm.searchData data-do-search=home_vm.doSearch data-list=home_vm.searchList></search-form><div class=search-result infinite-scroll=home_vm.onScrollPage() infinite-scroll-immediate-check=false infinite-scroll-distance=3 infinite-scroll-disabled=home_vm.scrolling infinite-scroll-use-document-bottom=true><list-view data-list=home_vm.searchList data-search-data=home_vm.searchData data-on-scrolling=home_vm.onScrolling></list-view></div></section>\");\n$templateCache.put(\"app/components/layout/layout.html\",\"<navbar-top></navbar-top><section ui-view=layoutContent></section>\");\n$templateCache.put(\"app/components/list-view/list-view.html\",\"<div class=\\\"result-list text-center\\\"><div class=row data-ng-repeat=\\\"result in list_view_vm.list | filter:list_view_vm.searchData:strict\\\" data-ng-if=list_view_vm.list.length><div class=\\\"col-md-6 col-md-offset-3 well\\\"><h4 class=result-title data-ng-if=result.Title>{{result.Title}}</h4><div class=result-poster><img data-ng-if=result.Poster data-ng-src={{result.Poster}} data-err-src=assets/images/default_poster.jpg alt={{result.Title}}></div><div class=result-actions><button class=\\\"btn btn-primary\\\" data-ng-bind=\\\":: \\'LABEL_READ_MORE\\' | translate\\\" data-ng-click=list_view_vm.getMoreInformation(result)>See More</button></div></div></div></div>\");\n$templateCache.put(\"app/components/navbar-top/navbar-top.html\",\"<nav class=\\\"navbar navbar-inverse navbar-fixed-top\\\"><div class=container-fluid><div class=navbar-header><button type=button class=\\\"navbar-toggle collapsed\\\" data-toggle=collapse data-target=#navbar aria-expanded=false aria-controls=navbar><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=#><img src=assets/images/logo.png alt=\\\"\\\" class=navbar-logo></a></div><div id=navbar class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li class=active><a href=#/ ui-sref=layout.home data-ng-bind=\\\":: \\'NAVBAR_TITLE_HOME\\' | translate\\\">Home</a></li><li><a href=#/favorites ui-sref=layout.favorites data-ng-bind=\\\":: \\'NAVBAR_TITLE_FAVORITES\\' | translate\\\">Favorites</a></li></ul><div class=\\\"navbar-form navbar-right\\\"><div class=btn-group uib-dropdown><button id=dropdown-language type=button class=\\\"btn btn-default\\\" uib-dropdown-toggle><span class=\\\"fa fa-language\\\"></span> <span class=\\\"fa fa-caret-down\\\"></span></button><ul class=dropdown-menu uib-dropdown-menu role=menu aria-labelledby=dropdown-language><li role=menuitem data-ng-repeat=\\\"language in navbar_top_vm.avaliableLanguages\\\"><a href data-ng-bind=\\\":: navbar_top_vm.mapLanguageTranslationByKey[language] | translate\\\" data-ng-click=navbar_top_vm.switchLanguage(language)>{{language}}</a></li></ul></div></div></div></div></nav>\");\n$templateCache.put(\"app/components/order-list/order-list.html\",\"<select data-ng-model=order_list_vm.orderBy class=form-control data-ng-change=order_list_vm.doOrderBy()><option value=\\\"\\\">{{:: \\'ORDER_BY_LABEL\\' | translate}}</option><option value=Year>{{:: \\'ORDER_BY_YEAR\\' | translate}}</option><option value=imdbRating>{{:: \\'ORDER_BY_RATING\\' | translate}}</option><option value=Genre>{{:: \\'ORDER_BY_GENRE\\' | translate}}</option></select>\");}]);"],"sourceRoot":"/source/"}